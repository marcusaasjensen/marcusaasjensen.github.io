{% if pages is defined %}
{% elif paginator is defined %}
{% set pages = paginator.pages %}
{% elif term is defined %}
{% set pages = term.pages %}
{% elif section is defined %}
{% set pages = section.pages %}
{% endif %}

<div style="
  display: grid;
  grid-template-columns: 50% 50%;
  grid-template-rows: auto; 
  column-gap: 25px;">
{% for page in pages %}
<section
  class="card-hover block-bg relative mb-4 rounded-lg p-4 first-of-type:mt-0 last-of-type:mb-0 lg:mb-6 lg:p-6 cursor-pointer"
>
  {% if page.extra.cover.image %}
  <figure class="mt-0 mb-4">
    <img
      class="h-auto w-full rounded-lg transition-transform duration-200 hover:scale-[1.02]"
      src="{{ get_url(path=page.extra.cover.image) }}"
      alt="{{ page.extra.cover.alt | default(value='cover') }}"
    />
  </figure>
  {% endif %}

  <h3 class="my-0! pb-1 leading-none! font-bold transition-colors duration-200 hover:text-[var(--hint-color)]">{{ page.title }}</h3>

  <div class="not-prose my-1">
    {% if page.description %}
    <p>{{ page.description }}</p>
    {% elif page.summary %}
    {{ page.summary | safe }}
    {% endif %}
  </div>

  {% include "partials/page_info.html" %}

  <a class="absolute inset-0 text-[0px] z-10" href="{{ page.permalink }}">{{ page.title }}</a>
</section>
{% endfor %}
</div>
<script>
document.querySelectorAll('.card-hover').forEach(card => {
  card.addEventListener('mousemove', e => {
    const rect = card.getBoundingClientRect();
    const x = ((e.clientX - rect.left) / rect.width) * 100;
    const y = ((e.clientY - rect.top) / rect.height) * 100;
    card.style.setProperty('--mouse-x', `${x}%`);
    card.style.setProperty('--mouse-y', `${y}%`);

    const dx = x - 50;
    const dy = y - 50;
    const dist = Math.sqrt(dx*dx + dy*dy);
    const intensity = 0.1 + (50 - dist) / 200;
    card.style.boxShadow = `0 4px 15px rgba(0,0,0,${intensity})`;
  });

  card.addEventListener('mouseleave', () => {
    card.style.boxShadow = '0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06)';
  });
});
</script>


{% if paginator is defined %}
<nav class="not-prose mt-16 flex font-bold">
  {% if paginator.previous %}
  <a
    class="rounded-full bg-black px-4 py-3 text-sm text-white no-underline duration-300 hover:shadow-lg hover:shadow-black/20 active:scale-95 dark:bg-white/80 dark:text-black dark:hover:shadow-white/20 transition-all"
    href="{{ paginator.previous }}"
    >← Prev Page</a
  >
  {% endif %}
  {% if paginator.next %}
  <a
    class="ml-auto rounded-full bg-black px-4 py-3 text-sm text-white no-underline duration-300 hover:shadow-lg hover:shadow-black/20 active:scale-95 dark:bg-white/80 dark:text-black dark:hover:shadow-white/20 transition-all"
    href="{{ paginator.next }}"
    >Next Page →</a
  >
  {% endif %}
</nav>
{% endif %}